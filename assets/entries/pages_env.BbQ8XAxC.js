import{j as e,L as i,o as t,i as o}from"../chunks/chunk-B55XmmrA.js";import"../chunks/chunk-DujD3LDN.js";/* empty css                      */import{W as r,C as a}from"../chunks/chunk-D-oex3SH.js";/* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      *//* empty css                      */const d=[{pageSectionId:"public-whitelist",pageSectionLevel:2,pageSectionTitle:"Public whitelist"},{pageSectionId:"config-files",pageSectionLevel:2,pageSectionTitle:"Config files"},{pageSectionId:"see-also",pageSectionLevel:2,pageSectionTitle:"See also"}];function l(s){const n={a:"a",blockquote:"blockquote",code:"code",figure:"figure",li:"li",p:"p",pre:"pre",span:"span",ul:"ul",...s.components};return e.jsxs(e.Fragment,{children:[e.jsxs(n.p,{children:["Environment variables can be defined in ",e.jsx(n.code,{children:".env"})," and ",e.jsx(n.code,{children:".env.[mode]"})," files."]}),`
`,e.jsx(n.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(n.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"bash","data-theme":"github-light",children:e.jsxs(n.code,{"data-language":"bash","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"# .env.development"})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#24292E"},children:"DATABASE_URL"}),e.jsx(n.span,{style:{color:"#D73A49"},children:"="}),e.jsx(n.span,{style:{color:"#032F62"},children:"postgresql://localhost:5432"})]}),`
`,e.jsx(n.span,{"data-line":"",children:" "}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"# .env.production"})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#24292E"},children:"DATABASE_URL"}),e.jsx(n.span,{style:{color:"#D73A49"},children:"="}),e.jsx(n.span,{style:{color:"#032F62"},children:"postgresql://database.example.com:5432"})]}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#24292E"},children:"DATABASE_PASSWORD"}),e.jsx(n.span,{style:{color:"#D73A49"},children:"="}),e.jsx(n.span,{style:{color:"#032F62"},children:"some-secret-password"})]}),`
`,e.jsx(n.span,{"data-line":"",children:" "}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"# .env"})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#24292E"},children:"EMAIL_USER"}),e.jsx(n.span,{style:{color:"#D73A49"},children:"="}),e.jsx(n.span,{style:{color:"#032F62"},children:"John"}),e.jsx(n.span,{style:{color:"#6F42C1"},children:" Doe"})]}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#24292E"},children:"PUBLIC_ENV__SOME_KEY"}),e.jsx(n.span,{style:{color:"#D73A49"},children:"="}),e.jsx(n.span,{style:{color:"#005CC5"},children:"123"})]})]})})}),`
`,e.jsxs(n.blockquote,{children:[`
`,e.jsxs(n.p,{children:["The ",e.jsx(n.code,{children:".env.production"}),"/",e.jsx(n.code,{children:".env.development"})," file is loaded only in production/development while ",e.jsx(n.code,{children:".env"})," is always loaded, see ",e.jsxs(n.a,{href:"https://vitejs.dev/guide/env-and-mode.html#env-files",children:["Vite > ",e.jsx(n.code,{children:".env"})," Files"]}),"."]}),`
`,e.jsxs(n.p,{children:["For ",e.jsx(n.a,{href:"https://github.com/vikejs/vike/issues/562",children:"files not processed by Vite"}),", you need to manually install ",e.jsx(n.a,{href:"https://github.com/motdotla/dotenv",children:"dotenv"})," for your ",e.jsx(n.code,{children:".env"})," values to also be available in files that aren't processed by Vite."]}),`
`]}),`
`,e.jsx(n.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(n.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"js","data-theme":"github-light",children:e.jsxs(n.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#D73A49"},children:"function"}),e.jsx(n.span,{style:{color:"#6F42C1"},children:" somewhere"}),e.jsx(n.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"  // Environment variables prefixed with PUBLIC_ENV__ can be used anywhere: in server-side code"})}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"  // as well as in client-side code."})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#D73A49"},children:"  import"}),e.jsx(n.span,{style:{color:"#24292E"},children:"."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"meta"}),e.jsx(n.span,{style:{color:"#24292E"},children:".env."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"PUBLIC_ENV__SOME_KEY"})]}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,e.jsx(n.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(n.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"js","data-theme":"github-light",children:e.jsxs(n.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#D73A49"},children:"function"}),e.jsx(n.span,{style:{color:"#6F42C1"},children:" data"}),e.jsx(n.span,{style:{color:"#24292E"},children:"() {"})]}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"  // Environment variables without the PUBLIC_ENV__ prefix can be used only in server-side code."})}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"  // If this data() hook is loaded only on the server-side (which is the case"})}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"  // by default) then DATABASE_PASSWORD can be accessed here."})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#D73A49"},children:"  import"}),e.jsx(n.span,{style:{color:"#24292E"},children:"."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"meta"}),e.jsx(n.span,{style:{color:"#24292E"},children:".env."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"DATABASE_PASSWORD"})]}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#24292E"},children:"}"})})]})})}),`
`,e.jsxs(n.blockquote,{children:[`
`,e.jsxs(n.p,{children:["Keep in mind that ",e.jsx("code",{children:"import.meta.env.SOME_ENV"})," is statically replaced:"]}),`
`,e.jsx(n.figure,{"data-rehype-pretty-code-figure":"",children:e.jsx(n.pre,{style:{backgroundColor:"#fff",color:"#24292e"},tabIndex:"0","data-language":"js","data-theme":"github-light",children:e.jsxs(n.code,{"data-language":"js","data-theme":"github-light",style:{display:"grid"},children:[e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"// ❌ Won't work"})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(n.span,{style:{color:"#24292E"},children:"."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"meta"}),e.jsx(n.span,{style:{color:"#24292E"},children:".env["}),e.jsx(n.span,{style:{color:"#032F62"},children:"'SOME_ENV'"}),e.jsx(n.span,{style:{color:"#24292E"},children:"]"})]}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"// ❌ Won't work"})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#D73A49"},children:"const"}),e.jsx(n.span,{style:{color:"#24292E"},children:" { "}),e.jsx(n.span,{style:{color:"#005CC5"},children:"SOME_ENV"}),e.jsx(n.span,{style:{color:"#24292E"},children:" } "}),e.jsx(n.span,{style:{color:"#D73A49"},children:"="}),e.jsx(n.span,{style:{color:"#D73A49"},children:" import"}),e.jsx(n.span,{style:{color:"#24292E"},children:"."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"meta"}),e.jsx(n.span,{style:{color:"#24292E"},children:".env"})]}),`
`,e.jsx(n.span,{"data-line":"",children:e.jsx(n.span,{style:{color:"#6A737D"},children:"// ✅ Works"})}),`
`,e.jsxs(n.span,{"data-line":"",children:[e.jsx(n.span,{style:{color:"#D73A49"},children:"import"}),e.jsx(n.span,{style:{color:"#24292E"},children:"."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"meta"}),e.jsx(n.span,{style:{color:"#24292E"},children:".env."}),e.jsx(n.span,{style:{color:"#005CC5"},children:"SOME_ENV"})]})]})})}),`
`]}),`
`,e.jsxs(r,{children:[e.jsxs(n.p,{children:["As explained in ",e.jsx(n.a,{href:"https://vitejs.dev/guide/env-and-mode.html#env-files:~:text=the%20envPrefix%20option.-,SECURITY%20NOTES,-.env.*.local%20files",children:"Vite's security note"}),":"]}),e.jsxs(n.ul,{children:[`
`,e.jsxs(n.li,{children:["Never add secret information to ",e.jsx(n.code,{children:"PUBLIC_ENV__"})," environment variables."]}),`
`,e.jsxs(n.li,{children:["If your repository is public (e.g. on GitHub), then make sure you don't publicly share secret information:",`
`,e.jsxs(n.ul,{children:[`
`,e.jsxs(n.li,{children:["Consider defining secrets with system environment variables (e.g. ",e.jsx(n.a,{href:"https://askubuntu.com/questions/730/how-do-i-set-environment-variables/731#731",children:e.jsx(n.code,{children:"$ export DATABASE_PASSWORD=some-secret-password"})}),")."]}),`
`,e.jsxs(n.li,{children:["Consider ",e.jsxs(n.a,{href:"https://vitejs.dev/guide/env-and-mode.html#env-files:~:text=.env.*.local%20files%20are%20local%2Donly",children:["defining secrets with ",e.jsx(n.code,{children:".env.local"})," files"]})," while adding ",e.jsx(n.code,{children:"*.local"})," to your ",e.jsx(n.code,{children:".gitignore"}),"."]}),`
`]}),`
`]}),`
`]})]}),`
`,e.jsx("h2",{id:"public-whitelist",children:"Public whitelist"}),`
`,e.jsxs(n.p,{children:["The following environment variables can be accessed from the client-side without having to prefix them with ",e.jsx(n.code,{children:"PUBLIC_ENV__"}),":"]}),`
`,e.jsxs(n.ul,{children:[`
`,e.jsx(n.li,{children:e.jsx(n.code,{children:"STORYBOOK"})}),`
`]}),`
`,e.jsx(a,{children:e.jsxs(n.p,{children:["Contributions welcome to ",e.jsx(n.a,{href:"https://github.com/vikejs/vike/blob/main/vike/node/plugin/plugins/envVars.ts",children:"add further environment variables to the whitelist"}),"."]})}),`
`,e.jsx("h2",{id:"config-files",children:"Config files"}),`
`,e.jsxs(n.p,{children:["Note that ",e.jsxs(n.a,{href:"https://github.com/vikejs/vike/issues/1726#issuecomment-2208626928",children:[e.jsx(n.code,{children:"import.meta.env"})," isn't available in config files"]})," (neither ",e.jsx(n.code,{children:"vite.config.js"})," nor ",e.jsx(n.code,{children:"+config.js"}),")."]}),`
`,e.jsxs(n.blockquote,{children:[`
`,e.jsxs(n.p,{children:["A workaround is to use ",e.jsx(n.a,{href:"https://nodejs.org/en/learn/command-line/how-to-read-environment-variables-from-nodejs",children:e.jsx(n.code,{children:"process.env"})})," instead of ",e.jsx(n.code,{children:"import.meta.env"}),". But note that you'll then only be able to access environment variables coming from your operating system (you won't be able to access those defined in ",e.jsx(n.code,{children:".env"})," files)."]}),`
`]}),`
`,e.jsx("h2",{id:"see-also",children:"See also"}),`
`,e.jsxs(n.ul,{children:[`
`,e.jsx(n.li,{children:e.jsx(n.a,{href:"https://github.com/vikejs/vike/issues/1726",children:"#1726 Improve environment variables support"})}),`
`]})]})}function c(s={}){const{wrapper:n}=s.components||{};return n?e.jsx(n,{...s,children:e.jsx(l,{...s})}):l(s)}const h=Object.freeze(Object.defineProperty({__proto__:null,default:c,pageSectionsExport:d},Symbol.toStringTag,{value:"Module"})),A={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:{server:!0}}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},Layout:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/Layout",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:i}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/config",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"@brillout/docpress/renderer/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:t}},TopNavigation:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+TopNavigation.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:o}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/env/+Page.mdx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:h}}};export{A as configValuesSerialized};
